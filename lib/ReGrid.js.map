{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 7ac26c4bf51513474366","webpack:///./src/index.js","webpack:///./src/regrid.js","webpack:///./src/utils.js"],"names":["ReGrid","wrapper","events","makeDom","bindEvents","html","header","find","bodyScrollable","body","footer","columns","rows","length","prepareColumns","prepareRows","setDimensions","rowIndex","colIndex","value","row","getRow","cell","col_index","data","refreshCell","selector","row_index","$cell","$newCell","replaceWith","map","col","i","isHeader","format","val","cells","j","me","on","$col","removeClass","addClass","bindCellDoubleClick","bindResizeColumn","bindSortColumn","each","height","width","attr","css","margin","marginTop","$editPopup","hide","empty","position","top","left","on_cell_doubleclick","get","document","e","target","is","isDragging","$currCell","startWidth","startX","getColumn","resizable","pageX","setColumnWidth","fwidth","closest","sortBy","append","remove","sortByAction","on_sort","apply","sortRows","refreshRows","sort","a","b","_aIndex","_bIndex","_a","_b","$el","getCell","customAttr","isNaN","join","dataRowIndex","getHeader","$header","$cellContent","getBody"],"mappings":"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","file":"ReGrid.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ReGrid\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReGrid\"] = factory();\n\telse\n\t\troot[\"ReGrid\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7ac26c4bf51513474366","import ReGrid from './regrid.js';\nexport { ReGrid };\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import { getHeader, getBody, getCell } from './utils.js';\nimport $ from 'jQuery';\n\nexport default class ReGrid {\n  constructor({ wrapper, events }) {\n    this.wrapper = wrapper;\n    this.events = events || {};\n    this.makeDom();\n    this.bindEvents();\n  }\n\n  makeDom() {\n    this.wrapper.html(`\n      <div class=\"data-table\">\n        <table class=\"data-table-header table table-bordered\">\n        </table>\n        <div class=\"body-scrollable\">\n          <table class=\"data-table-body table table-bordered\">\n          </table>\n        </div>\n        <div class=\"data-table-footer\">\n        </div>\n        <div class=\"data-table-popup\">\n          <div class=\"edit-popup\"></div>\n        </div>\n      </div>\n    `);\n\n    this.header = this.wrapper.find('.data-table-header');\n    this.bodyScrollable = this.wrapper.find('.body-scrollable');\n    this.body = this.wrapper.find('.data-table-body');\n    this.footer = this.wrapper.find('.data-table-footer');\n  }\n\n  render({ columns, rows }) {\n    if (this.wrapper.find('.data-table').length === 0) {\n      this.makeDom();\n      this.bindEvents();\n    }\n\n    this.columns = this.prepareColumns(columns);\n    this.rows = this.prepareRows(rows);\n\n    this.header.html(getHeader(this.columns));\n    this.body.html(getBody(this.rows));\n\n    this.setDimensions();\n  }\n\n  updateCell(rowIndex, colIndex, value) {\n    const row = this.getRow(rowIndex);\n    const cell = row.find(cell => cell.col_index === colIndex);\n\n    cell.data = value;\n    this.refreshCell(cell);\n  }\n\n  refreshRows(rows) {\n    if (rows) {\n      this.rows = this.prepareRows(rows);\n    }\n    this.body.html(getBody(this.rows));\n    this.setDimensions();\n  }\n\n  refreshCell(cell) {\n    const selector = `.data-table-col[data-row-index=\"${cell.row_index}\"][data-col-index=\"${cell.col_index}\"]`;\n    const $cell = this.body.find(selector);\n    const $newCell = $(getCell(cell));\n\n    $cell.replaceWith($newCell);\n  }\n\n  prepareColumns(columns) {\n    return columns.map((col, i) => {\n      col.colIndex = i;\n      col.isHeader = 1;\n      col.format = val => `<span>${val}</span>`;\n      return col;\n    });\n  }\n\n  prepareRows(rows) {\n    return rows.map((cells, i) => {\n      return cells.map((cell, j) => {\n        cell.colIndex = j;\n        cell.rowIndex = i;\n        return cell;\n      });\n    });\n  }\n\n  bindEvents() {\n    const me = this;\n\n    this.bodyScrollable.on('click', '.data-table-col', function () {\n      const $col = $(this);\n\n      me.bodyScrollable.find('.data-table-col').removeClass('selected');\n      $col.addClass('selected');\n    });\n\n    this.bindCellDoubleClick();\n    this.bindResizeColumn();\n    this.bindSortColumn();\n  }\n\n  setDimensions() {\n    const me = this;\n\n    // set the width for each cell\n    this.header.find('.data-table-col').each(function () {\n      const col = $(this);\n      const height = col.find('.content').height();\n      const width = col.find('.content').width();\n      const colIndex = col.attr('data-col-index');\n      const selector = `.data-table-col[data-col-index=\"${colIndex}\"] .content`;\n      const $cell = me.bodyScrollable.find(selector);\n\n      $cell.width(width);\n      $cell.height(height);\n    });\n\n    // setting width as 0 will ensure that the\n    // header doesn't take the available space\n    this.header.css({\n      width: 0,\n      margin: 0\n    });\n\n    this.bodyScrollable.css({\n      width: this.header.css('width'),\n      marginTop: this.header.height() + 1\n    });\n\n    this.bodyScrollable.find('.table').css('margin', 0);\n  }\n\n  bindCellDoubleClick() {\n    const { events } = this;\n\n    const $editPopup = this.wrapper.find('.edit-popup');\n\n    $editPopup.hide();\n\n    this.bodyScrollable.on('dblclick', '.data-table-col', function () {\n      const $cell = $(this);\n      const rowIndex = $cell.attr('data-row-index');\n      const colIndex = $cell.attr('data-col-index');\n\n      $editPopup.empty();\n      const { top, left } = $cell.position();\n\n      $editPopup.css({\n        top: top - 12,\n        left: left - 12\n      });\n\n      // showing the popup is the responsibility of event handler\n      events.on_cell_doubleclick(\n        $cell.get(0),\n        $editPopup,\n        rowIndex,\n        colIndex\n      );\n    });\n\n    $(document.body).on('click', e => {\n      if ($(e.target).is('.edit-popup, .edit-popup *')) return;\n      $editPopup.hide();\n    });\n  }\n\n  bindResizeColumn() {\n    const me = this;\n    let isDragging = false;\n    let $currCell, startWidth, startX;\n\n    this.header.on('mousedown', '.data-table-col', function (e) {\n      $currCell = $(this);\n      const col = me.getColumn($currCell.attr('data-col-index'));\n\n      if (col && col.resizable === false) {\n        return;\n      }\n\n      isDragging = true;\n      startWidth = $currCell.find('.content').width();\n      startX = e.pageX;\n    });\n\n    $('body').on('mouseup', function (e) {\n      if (!$currCell) return;\n      isDragging = false;\n      const colIndex = $currCell.attr('data-col-index');\n\n      if ($currCell) {\n        const width = $currCell.find('.content').css('width');\n\n        me.setColumnWidth(colIndex, width);\n        me.bodyScrollable.css('width', me.header.css('width'));\n        $currCell = null;\n      }\n    });\n\n    this.header.on('mousemove', '.data-table-col', function (e) {\n      if (!isDragging) return;\n      const fwidth = startWidth + (e.pageX - startX);\n\n      $currCell.find('.content').width(fwidth);\n    });\n  }\n\n  bindSortColumn() {\n    const me = this;\n\n    this.header.on('click', '.data-table-col .content span', function () {\n      const $cell = $(this).closest('.data-table-col');\n      const sortBy = $cell.attr('data-sort-by');\n      const colIndex = $cell.attr('data-col-index');\n\n      if (sortBy === 'none') {\n        $cell.attr('data-sort-by', 'asc');\n        $cell\n          .find('.content')\n          .append('<span class=\"octicon octicon-chevron-up\">');\n      } else if (sortBy === 'asc') {\n        $cell.attr('data-sort-by', 'desc');\n        $cell\n          .find('.content .octicon')\n          .removeClass('octicon-chevron-up')\n          .addClass('octicon-chevron-down');\n      } else if (sortBy === 'desc') {\n        $cell.attr('data-sort-by', 'none');\n        $cell.find('.content .octicon').remove();\n      }\n\n      const sortByAction = $cell.attr('data-sort-by');\n\n      if (me.events.on_sort) {\n        me.events.on_sort.apply(null, [colIndex, sortByAction]);\n      } else {\n        me.sortRows(colIndex, sortByAction);\n        me.refreshRows();\n      }\n    });\n  }\n\n  sortRows(colIndex, sortBy = 'none') {\n    this.rows.sort((a, b) => {\n      const _aIndex = a[0].row_index;\n      const _bIndex = b[0].row_index;\n      const _a = a[colIndex].data;\n      const _b = b[colIndex].data;\n\n      if (sortBy === 'none') {\n        return _aIndex - _bIndex;\n      } else if (sortBy === 'asc') {\n        if (_a < _b) return -1;\n        if (_a > _b) return 1;\n        if (_a === _b) return 0;\n      } else if (sortBy === 'desc') {\n        if (_a < _b) return 1;\n        if (_a > _b) return -1;\n        if (_a === _b) return 0;\n      }\n      return 0;\n    });\n  }\n\n  setColumnWidth(colIndex, width, header = false) {\n    const selector = `.data-table-col[data-col-index=\"${colIndex}\"] .content`;\n    let $el;\n\n    if (header) {\n      $el = this.header.find(selector);\n    } else {\n      $el = this.bodyScrollable.find(selector);\n    }\n    $el.css('width', width);\n  }\n\n  getColumn(colIndex) {\n    return this.columns.find(col => col.col_index === colIndex);\n  }\n\n  getRow(rowIndex) {\n    return this.rows.find(row => row[0].row_index === rowIndex);\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/regrid.js","import $ from 'jQuery';\n\nfunction getCell(cell) {\n  const customAttr = [\n    !isNaN(cell.colIndex) ? `data-col-index=\"${cell.colIndex}\"` : '',\n    !isNaN(cell.rowIndex) ? `data-row-index=\"${cell.rowIndex}\"` : '',\n    cell.isHeader ? 'data-sort-by=\"none\"' : ''\n  ].join(' ');\n\n  return `\n      <td class=\"data-table-col noselect\" ${customAttr}>\n        <div class=\"content ellipsis\">\n          ${cell.format ? cell.format(cell.data) : cell.data}\n        </div>\n      </td>\n    `;\n}\n\nfunction getRow(row) {\n  const header = row.isHeader ? 'data-header' : '';\n  const cells = row.cells;\n  const dataRowIndex = !isNaN(cells[0].rowIndex) ?\n    `data-row-index=\"${cells[0].rowIndex}\"` : '';\n\n  return `\n      <tr class=\"data-table-row\" ${dataRowIndex} ${header}>\n        ${cells.map(getCell).join('')}\n      </tr>\n    `;\n}\n\nfunction getHeader(columns) {\n  const $header = $(`<thead>\n      ${getRow({ cells: columns, isHeader: 1 })}\n    </thead>\n    `);\n\n  columns.map(col => {\n    if (!col.width) return;\n    const $cellContent = $header.find(\n      `.data-table-col[data-col-index=\"${col.colIndex}\"] .content`\n    );\n\n    $cellContent.width(col.width);\n    // $cell_content.css('max-width', col.width + 'px');\n  });\n\n  return $header;\n}\n\nfunction getBody(rows) {\n  return `<tbody>\n      ${rows.map(row => getRow({ cells: row })).join('')}\n    </tbody>\n    `;\n}\n\nexport default {\n  getHeader,\n  getBody,\n  getRow,\n  getCell\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js"],"sourceRoot":""}